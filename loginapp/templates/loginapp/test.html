{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>On√©simus HELM System</title>
    <link rel="shortcut icon" type="image/png" href="{% static 'images/favicon.png' %}">
    <link rel="stylesheet" type="text/css" href="{% static 'style.css' %}">
</head>

<body id="main">

    <div id="grid-body">

        <header>

            <div id="header-1">
                <button>
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M24 6h-24v-4h24v4zm0 4h-24v4h24v-4zm0 8h-24v4h24v-4z"/></svg>
                </button>
            </div>

            <div id="header-2">
                <img src="{% static 'images/logo.png' %}" alt="images" id="header-logo">
                <span id="header-line"></span>
                <span class="helm-system" id="header-span">HELM System</span>
            </div>

            <div id="header-3">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M16 9v-4l8 7-8 7v-4h-8v-6h8zm-16-7v20h14v-2h-12v-16h12v-2h-14z"/></svg>
                <input class="btn btn-success" type="button" value = "Log out" onclick="location.href='{% url 'logout' %}'">
                </input>
            </div>

        </header>

        <div id="sidebar">
            <ul>
                <li id="home">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M21 13v10h-6v-6h-6v6h-6v-10h-3l12-12 12 12h-3zm-1-5.907v-5.093h-3v2.093l3 3z"/></svg>
                    <span class="tooltip">Home</span>
                </li>
                <li id="employee-masterlist">
                    <svg style="width:18px; height:18px;" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path style="fill: #288769;" d="M10.118 16.064c2.293-.529 4.428-.993 3.394-2.945-3.146-5.942-.834-9.119 2.488-9.119 3.388 0 5.644 3.299 2.488 9.119-1.065 1.964 1.149 2.427 3.394 2.945 1.986.459 2.118 1.43 2.118 3.111l-.003.825h-15.994c0-2.196-.176-3.407 2.115-3.936zm-10.116 3.936h6.001c-.028-6.542 2.995-3.697 2.995-8.901 0-2.009-1.311-3.099-2.998-3.099-2.492 0-4.226 2.383-1.866 6.839.775 1.464-.825 1.812-2.545 2.209-1.49.344-1.589 1.072-1.589 2.333l.002.619z"/></svg>   
                    <span class="tooltip">Employee Masterlist</span>
                </li>
                <li id="awards-recognition">
                    <svg style="width:19px; height:19px;" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M11.383 15.941l-3.758 8.059-.967-2.658-2.658.968 3.517-7.541c.678.216 1.137.162 1.849.162.744.513 1.072.844 2.017 1.01zm3.252-1.009c-.738.506-1.049.831-1.994 1.004l3.759 8.064.967-2.658 2.633.968-3.495-7.549c-.686.222-1.146.171-1.87.171zm-2.635-11.932c-2.205 0-4 1.795-4 4s1.795 4 4 4c2.206 0 4-1.794 4-4s-1.794-4-4-4zm6.926 5.278c.051.146.074.296.074.445 0 .449-.222.883-.615 1.156-1.256.87-1.09.651-1.562 2.067-.198.591-.77.99-1.414.99h-.004c-1.549-.005-1.279-.088-2.528.789-.262.183-.569.275-.877.275s-.615-.092-.876-.275c-1.249-.878-.98-.794-2.528-.789h-.004c-.645 0-1.216-.399-1.413-.99-.473-1.417-.311-1.198-1.562-2.067-.395-.274-.617-.708-.617-1.157 0-.148.024-.298.074-.444.483-1.411.484-1.139 0-2.555-.05-.147-.074-.297-.074-.445 0-.45.222-.883.616-1.157 1.251-.868 1.089-.648 1.562-2.067.197-.591.769-.99 1.413-.99h.004c1.545.005 1.271.095 2.528-.79.262-.182.569-.274.877-.274s.615.091.876.274c1.249.878.98.795 2.528.79h.004c.645 0 1.216.399 1.414.99.473 1.416.307 1.197 1.562 2.067.394.274.616.707.616 1.156 0 .148-.023.299-.074.445-.483 1.411-.485 1.139 0 2.556zm-1.926-1.278c0-2.761-2.238-5-5-5-2.761 0-5 2.239-5 5s2.239 5 5 5c2.762 0 5-2.238 5-5z"/></svg>
                    <span class="tooltip">Awards & Recognition</span>
                </li>
                <li id="discipline-management">
                    <svg style="width:17px; height:17px;" xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 15 15">
                        <path id="gavel" d="M0,13.75H7.5V15H0Zm6.875-.625H.625a1.25,1.25,0,0,1,1.25-1.25h3.75A1.25,1.25,0,0,1,6.875,13.125ZM10.856,5.1l-1.4,1.373s3.932,3.463,5.107,4.465a1.186,1.186,0,0,1,.441.9,1.155,1.155,0,0,1-1.219,1.137,1.2,1.2,0,0,1-.826-.436c-1.012-1.172-4.419-5.156-4.419-5.156l-1.4,1.372L3.473,5.1,7.2,1.44,10.856,5.1Zm-7.687.579a.647.647,0,0,0-.916.916L5.7,10.039a.647.647,0,1,0,.915-.914L3.169,5.679ZM8.659.189a.647.647,0,0,0-.915.915L11.189,4.55a.647.647,0,1,0,.914-.915L8.659.189Z" fill-rule="evenodd"/>
                    </svg>                      
                    <span class="tooltip">Discipline Management</span>
                </li>
                <li id="view-reports">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M13.744 8s1.522-8-3.335-8h-8.409v24h20v-13c0-3.419-5.247-3.745-8.256-3zm.256 11h-8v-1h8v1zm4-3h-12v-1h12v1zm0-3h-12v-1h12v1zm-3.432-12.925c2.202 1.174 5.938 4.883 7.432 6.881-1.286-.9-4.044-1.657-6.091-1.179.222-1.468-.185-4.534-1.341-5.702z"/></svg>
                    <span class="tooltip">View Reports</span>
                </li>
            </ul>
        </div>

        <div id="content">
            
            <div id="container">

                <div id="breadcrumbs">
                    <a href="#">Employee Masterlist</a>
                    &nbsp;/&nbsp;
                </div>
                
        
                <div class="section">

                    <div class="section-container">

                        <div class="section-header">

                            <div class="section-title">
                                <h1>Create New Record</h1>
                            </div>

                            <div class="section-buttons">
                                <button class="secondary-btn">
                                    Cancel
                                </button>
                                <button class="primary-btn">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M15.003 3h2.997v5h-2.997v-5zm8.997 1v20h-24v-24h20l4 4zm-19 5h14v-7h-14v7zm16 4h-18v9h18v-9z"/></svg>
                                    Save
                                </button>
                            </div>
                        </div>

                        <div class="section-block">
                            <h2>Employee Record</h2>
                        </div>

                        <div class="section-flex">
						<form action="" method="post">
						{% csrf_token %}
						<table>
						{{ record.as_table }}
						{{ worklocation.as_table }}
						{{ position.as_table }}
						{{ spouse.as_table }}
                       
                        <div id = "form-container">
                        <button id="add-form" type="button">Add Employee History</button>
						{{emphistory.management_form}}
                        {% for form in emphistory %}
                        <div class="emphis-form">
                        {{form.as_p}}
                        </div>
                        {% endfor %}
                        <div id = "blocker"></div>
                         </div>
						{{ education.as_table }}
						{{ family.as_table }}
						{{ child.as_table }}
						</table>
						<input type="submit" value="Submit">
						</form>
                            
                        </div>

                    </div>

                </div>


            </div>
            
            <div id="pop-up">

                <div class="section-block">
                    <button class="icon-btn" onclick="collapse()">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path d="M13.025 1l-2.847 2.828 6.176 6.176h-16.354v3.992h16.354l-6.176 6.176 2.847 2.828 10.975-11z"/></svg>
                    </button>
                </div>

                <div class="section-header">

                    <div class="section-title">
                        <h2>Filter</h2>
                    </div>

                    <div class="section-buttons">
                        <button class="secondary-btn">Clear All</button>
                    </div>
                    
                </div>

                <div class="section-block">
                    <div class="section-row">
                        <div class="data">
                            <label>Sort By:</label>
                            <input value="Employee ID">
                        </div>
                    </div>
                    <div class="section-row">
                        <div class="data">
                            <label>Employee ID:</label>
                            <input >
                        </div>
                    </div>
                    <div class="section-row">
                        <div class="data">
                            <label>Employee Name:</label>
                            <input>
                        </div>
                    </div>
                    <div class="section-row">
                        <div class="data">
                            <label>Department:</label>
                            <input>
                        </div>
                    </div>
                    <div class="section-row">
                        <div class="data">
                            <label>Position:</label>
                            <input>
                        </div>
                    </div>
                    <div class="section-row">
                        <div class="data">
                            <label>Employment Status:</label>
                            <input>
                        </div>
                    </div>
                    <div class="section-row">
                        <div class="data">
                            <label>Start Date:</label>
                            <input>
                        </div>
                    </div>
                    <div class="section-row">
                        <div class="data">
                            <label>End Date:</label>
                            <input>
                        </div>
                    </div>
                    <div class="section-row">
                        <div class="data">
                            <label>Salary (PHP):</label>
                            <input>
                        </div>
                    </div>
                    <div class="section-row">
                        <div class="data">
                            <label>Salary Type:</label>
                            <input>
                        </div>
                    </div>
                    
                </div>

            </div>

        </div>
    </div>

    <script type="text/javascript">  
        
        let birdForm = document.querySelectorAll(".emphis-form")
        let container = document.querySelector("#form-container")
        let addButton = document.querySelector("#add-form")
        let totalForms = document.querySelector("#id_form-TOTAL_FORMS")
        let formNum = birdForm.length-1
        let blocker = document.getElementById('blocker')
        addButton.addEventListener('click', addForm)
        function addForm(e) {
            e.preventDefault()

            let newForm = birdForm[0].cloneNode(true) //Clone the bird form
            let formRegex = RegExp(`form-(\\d){1}-`,'g') //Regex to find all instances of the form number

            formNum++ //Increment the form number
            newForm.innerHTML = newForm.innerHTML.replace(formRegex, `form-${formNum}-`) //Update the new form to have the correct form number
            container.insertBefore(newForm, blocker) //Insert the new form at the end of the list of forms

            totalForms.setAttribute('value', `${formNum+1}`) //Increment the number of total forms in the management form
        }
    
    </script>

</body>

</html>